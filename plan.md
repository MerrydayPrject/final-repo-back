# 모델 비교 페이지 개선 작업

## 작업 일시
2024년

## 작업 내용

### 1. 버튼 크기 최적화
- **목적**: 여러 모델 추가에 대비하여 버튼 크기를 적절히 축소
- **변경 사항**:
  - 그리드 최소 크기: 300px → 200px로 축소
  - 패딩: 30px → 20px로 축소
  - 아이콘 크기: 4em → 2.5em로 축소
  - 제목 폰트: 1.5em → 1.1em로 축소
  - 설명 폰트: 1em → 0.85em로 축소
  - 배지 크기: 약간 축소
  - 간격: 25px → 20px로 축소

### 2. 모델 추가 기능 구현
- **목적**: 개발된 모델을 쉽게 추가할 수 있는 UI 제공
- **구현 내용**:
  - 모델 버튼 그리드에 "모델 추가" 버튼 추가
  - 모델 추가 모달 생성
  - 모델 정보 입력 폼 (모델 ID, 이름, 설명, API 엔드포인트, HTTP 메서드, 입력 타입, 카테고리)
  - 입력 타입에 따라 자동으로 inputs 필드 생성
  - 모델 ID 중복 체크 및 유효성 검사
  - 백엔드 API 엔드포인트 추가 (`POST /api/models`)
  - models_config.json 파일에 자동 저장

### 3. 파일 변경 사항
- `templates/model-comparison.html`: 모델 추가 모달 추가
- `static/model-comparison.js`: 
  - 버튼 렌더링에 모델 추가 버튼 추가
  - 모델 추가 모달 열기/닫기 함수
  - 모델 추가 제출 함수
  - 유효성 검사 및 중복 체크
- `static/model-comparison.css`:
  - 버튼 크기 관련 스타일 축소
  - 모델 추가 버튼 스타일
  - 모델 추가 폼 스타일
- `main.py`: 
  - `POST /api/models` 엔드포인트 추가
  - models_config.json 파일 읽기/쓰기 기능

### 4. 사용 방법
1. 모델 비교 페이지에서 "모델 추가" 버튼 클릭
2. 모델 정보 입력:
   - 모델 ID: 영문자, 숫자, 하이픈만 사용 (예: `new-model-compose`)
   - 모델 이름: 표시될 이름 (예: `새로운 이미지 합성`)
   - 설명: 모델에 대한 설명
   - API 엔드포인트: 백엔드 API 경로 (예: `/api/new-compose`)
   - HTTP 메서드: POST 또는 GET
   - 입력 타입: 이중 이미지 또는 단일 이미지
   - 카테고리: 합성 또는 세그멘테이션
3. "추가" 버튼 클릭
4. models_config.json에 자동으로 저장되고, 페이지가 새로고침되어 새 모델이 표시됨

### 5. 기술 세부사항
- 입력 타입이 "이중 이미지"인 경우: `person_image`, `dress_image` inputs 자동 생성
- 입력 타입이 "단일 이미지"인 경우: `file` input 자동 생성
- 모델 ID는 소문자 영문자, 숫자, 하이픈만 허용
- 중복된 모델 ID는 추가 불가
- 백엔드에서 models_config.json 파일을 읽고 쓰는 기능 구현

### 6. 향후 개선 가능 사항
- 모델 수정 기능
- 모델 삭제 기능
- 모델 파라미터 동적 추가 기능
- 모델별 아이콘 선택 기능

